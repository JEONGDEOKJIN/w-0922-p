<design-popup>
    <script type="text/x-handlebars-template">
        <div>
            <div slot="popupsNormal">
                <!-- 일반 팝업 -->
                {{#each popupsNormal}}
                <section
                    shopby-popup
                    shopby-popup-no="{{popupNo}}"
                    shopby-draggable="{{#ifEq detailInfo.screenType 'LAYER'}}true{{/ifEq}}{{#ifNe detailInfo.screenType 'LAYER'}}false{{/ifNe}}"
                    class="design-popup{{#ifEq detailInfo.screenType 'FIXED_TOP'}} design-popup--fixed-top{{/ifEq}}{{#if detailInfo.resizable}} design-popup--resizable{{/if}}{{#ifEq detailInfo.screenType 'LAYER'}} design-popup--draggable{{/ifEq}}"
                >
                    <div class="editor">
                        <div shopby-popup-content class="design-popup__content">{{{content}}}</div>

                        <footer class="design-popup__btns">
                            {{#if usesVisibleTodayOption}}
                            <label for="no-visible-today-{{popupNo}}" class="form-check form-check--md design-popup__btn--no-visible-today">
                                <input type="checkbox" id="no-visible-today-{{popupNo}}" shopby-action="NO_VISIBLE_TODAY" >
                                오늘 하루 보이지 않음
                            </label>
                            {{/if}}
                            <button type="button" shopby-action="CLOSE_DESIGN_POPUP" class="btn btn--default design-popup__btn--close">
                                <span class="ico ico--x-black-24"></span>
                            </button>
                        </footer>
                    </div>
                </section>
                {{/each}}
            </div>

            <div slot="popupsMulti">
                <!-- 멀티팝업 -->
                {{#each popupsMulti}}
                <section shopby-popup shopby-popup-no="{{popupNo}}" shopby-draggable="{{#ifEq detailInfo.screenType 'LAYER'}}true{{/ifEq}}{{#ifNe detailInfo.screenType 'LAYER'}}false{{/ifNe}}" class="design-popup">
                    <div shopby-popup-content class="design-popup__content">
                        <div shopby-popup-multi-main>
                            <div shopby-slider class="swiper">
                                <div class="swiper-wrapper">
                                    {{#each popupSlideInfo.slideImages}}
                                    <div class="swiper-slide">
                                      <div class="design-popup__slide" style="height: {{../popupSlideInfo.slideMaxHeight}}px;">
                                        {{#if ../popupSlideInfo.resizable}}
                                        {{img mainImageUrl ../popupSlideInfo.slideMaxWidth ../popupSlideInfo.slideMaxHeight '팝업이미지_메인' '' (append 'height: ' ../popupSlideInfo.slideMaxHeight 'px;') }}
                                        {{else}}
                                        {{img mainImageUrl '' '' '팝업이미지_메인' '' '' }}
                                        {{/if}}
                                      </div>
                                    </div>
                                    {{/each}}
                                </div>
                            </div>
                        </div>

                        <div shopby-popup-multi-sub class="design-popup__thumb-image">
                            {{#each popupSlideInfo.slideImages}}
                            <div shopby-slider class="swiper design-popup__slider--sub">
                              <div class="swiper-wrapper">
                                  <div class="swiper-slide">
                                      <div class="design-popup__slide" style="height: {{../popupSlideInfo.slideMinHeight}}px;">
                                          {{#if landingUrl}}
                                          <a href="{{landingUrl}}" target="{{#ifEq openLocationTarget 'SELF'}}_self{{/ifEq}}{{#ifEq openLocationTarget 'BLANK'}}_blank{{/ifEq}}">
                                              {{#if ../popupSlideInfo.resizable}}
                                              {{img thumbImageUrl ../popupSlideInfo.slideMinWidth ../popupSlideInfo.slideMinHeight '팝업이미지_서브' '' (append 'height: ' ../popupSlideInfo.slideMinHeight 'px;') }}
                                              {{else}}
                                              {{img thumbImageUrl '' '' '팝업이미지_서브' '' '' }}
                                              {{/if}}
                                          </a>
                                          {{else}}
                                              {{#if ../popupSlideInfo.resizable}}
                                              {{img thumbImageUrl ../popupSlideInfo.slideMinWidth ../popupSlideInfo.slideMinHeight '팝업이미지_서브' '' (append 'height: ' ../popupSlideInfo.slideMinHeight 'px;') }}
                                              {{else}}
                                              {{img thumbImageUrl '' '' '팝업이미지_서브' '' '' }}
                                              {{/if}}
                                          {{/if}}
                                      </div>
                                  </div>
                                  <div class="swiper-slide">
                                      <div class="design-popup__slide" style="height: {{../popupSlideInfo.slideMinHeight}}px;">
                                          {{#if landingUrl}}
                                          <a href="{{landingUrl}}" target="{{#ifEq openLocationTarget 'SELF'}}_self{{/ifEq}}{{#ifEq openLocationTarget 'BLANK'}}_blank{{/ifEq}}">
                                              {{#if ../popupSlideInfo.resizable}}
                                              {{img thumbImageUrlOnOver ../popupSlideInfo.slideMinWidth ../popupSlideInfo.slideMinHeight '팝업이미지_서브' '' (append 'height: ' ../popupSlideInfo.slideMinHeight 'px;') }}
                                              {{else}}
                                              {{img thumbImageUrlOnOver '' '' '팝업이미지_서브' '' '' }}
                                              {{/if}}
                                          </a>
                                          {{else}}
                                              {{#if ../popupSlideInfo.resizable}}
                                              {{img thumbImageUrlOnOver ../popupSlideInfo.slideMinWidth ../popupSlideInfo.slideMinHeight '팝업이미지_서브' '' (append 'height: ' ../popupSlideInfo.slideMinHeight 'px;') }}
                                              {{else}}
                                              {{img thumbImageUrlOnOver '' '' '팝업이미지_서브' '' '' }}
                                              {{/if}}
                                          {{/if}}
                                      </div>
                                  </div>
                              </div>
                          </div>
                            {{/each}}
                        </div>

                        <footer class="design-popup__btns">
                            {{#if usesVisibleTodayOption}}
                            <label for="no-visible-today-{{popupNo}}" class="form-check form-check--md design-popup__btn--no-visible-today">
                                <input type="checkbox" id="no-visible-today-{{popupNo}}" shopby-action="NO_VISIBLE_TODAY">
                                오늘 하루 보이지 않음
                            </label>
                            {{/if}}
                            <button type="button" shopby-action="CLOSE_DESIGN_POPUP" class="btn btn--default design-popup__btn--close">
                                <span class="ico ico--x-black-24"></span>
                            </button>
                        </footer>
                    </div>
                </section>
                {{/each}}
            </div>
        </div>
    </script>
</design-popup>
